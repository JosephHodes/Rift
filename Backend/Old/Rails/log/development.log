Started GET "/" for 127.0.0.1 at 2021-03-31 20:14:38 -0500
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/helix/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  Rendered static_pages/root.html.erb within layouts/application (10.0ms)
Completed 200 OK in 1366ms (Views: 1364.3ms | ActiveRecord: 1.0ms)


Started POST "/api/session" for 127.0.0.1 at 2021-03-31 20:14:43 -0500
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"username"=>"hodor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "hodor"], ["LIMIT", 1]]
  â†³ app/models/user.rb:90
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."user_agent" = $2 LIMIT $3[0m  [["user_id", 2], ["user_agent", "Mozilla/5.0 (X11; Linux x86_64; rv:87.0) Gecko/20100101 Firefox/87.0"], ["LIMIT", 1]]
  â†³ app/models/user.rb:112
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."session_token" = $1 LIMIT $2[0m  [["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["LIMIT", 1]]
  â†³ app/models/user.rb:132
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:106
  [1m[36mSession Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sessions" WHERE "sessions"."session_token" = $1 LIMIT $2[0m  [["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["LIMIT", 1]]
  â†³ app/models/user.rb:106
  [1m[36mSession Create (0.4ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "session_token", "created_at", "updated_at", "user_agent") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["created_at", "2021-04-01 01:14:43.908003"], ["updated_at", "2021-04-01 01:14:43.908003"], ["user_agent", "Mozilla/5.0 (X11; Linux x86_64; rv:87.0) Gecko/20100101 Firefox/87.0"]]
  â†³ app/models/user.rb:106
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:106
  Rendering api/users/show.json.jbuilder
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/api/users/_user.json.jbuilder:1
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/views/api/users/_user.json.jbuilder:3
  Rendered api/users/_user.json.jbuilder (13.0ms)
  Rendered api/users/show.json.jbuilder (15.0ms)
Completed 200 OK in 118ms (Views: 13.4ms | ActiveRecord: 24.2ms)


Started GET "/cable" for 127.0.0.1 at 2021-03-31 20:14:43 -0500
Started GET "/api/users/data" for 127.0.0.1 at 2021-03-31 20:14:44 -0500
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-03-31 20:14:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Processing by Api::UsersController#data as JSON
  [1m[36mSession Load (1.0ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."session_token" = $1 LIMIT $2[0m  [["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/notifications_channel.rb:3
NotificationsChannel is transmitting the subscription confirmation
NotificationsChannel is streaming from notifications:Z2lkOi8vZGlzY29ycy9Vc2VyLzI
  [1m[36mServer Load (0.7ms)[0m  [1m[34mSELECT "servers".* FROM "servers" INNER JOIN "server_memberships" ON "servers"."id" = "server_memberships"."server_id" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/api/users_controller.rb:32
  [1m[36mChannel Load (0.4ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/controllers/api/users_controller.rb:32
  [1m[36mAudioChannel Load (0.2ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/controllers/api/users_controller.rb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "friendships"."friend_id" FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/api/users_controller.rb:35
  Rendering api/users/user_data.json.jbuilder
  [1m[36mFriendRequest Load (0.3ms)[0m  [1m[34mSELECT "friend_requests".* FROM "friend_requests" WHERE ("friend_requests"."friend_id" = $1 OR "friend_requests"."user_id" = $2)[0m  [["friend_id", 2], ["user_id", 2]]
  â†³ app/views/api/users/user_data.json.jbuilder:4
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" INNER JOIN "dm_channel_memberships" ON "channels"."id" = "dm_channel_memberships"."channel_id" WHERE "dm_channel_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/api/users/user_data.json.jbuilder:20
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/api/users/user_data.json.jbuilder:37
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27)[0m  [["user_id", 1], ["user_id", 2], ["user_id", 3], ["user_id", 4], ["user_id", 5], ["user_id", 6], ["user_id", 7], ["user_id", 8], ["user_id", 9], ["user_id", 10], ["user_id", 11], ["user_id", 12], ["user_id", 13], ["user_id", 14], ["user_id", 15], ["user_id", 16], ["user_id", 17], ["user_id", 18], ["user_id", 19], ["user_id", 20], ["user_id", 21], ["user_id", 22], ["user_id", 23], ["user_id", 24], ["user_id", 25], ["user_id", 26], ["user_id", 27]]
  â†³ app/views/api/users/user_data.json.jbuilder:37
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27)[0m  [["user_id", 1], ["user_id", 2], ["user_id", 3], ["user_id", 4], ["user_id", 5], ["user_id", 6], ["user_id", 7], ["user_id", 8], ["user_id", 9], ["user_id", 10], ["user_id", 11], ["user_id", 12], ["user_id", 13], ["user_id", 14], ["user_id", 15], ["user_id", 16], ["user_id", 17], ["user_id", 18], ["user_id", 19], ["user_id", 20], ["user_id", 21], ["user_id", 22], ["user_id", 23], ["user_id", 24], ["user_id", 25], ["user_id", 26], ["user_id", 27]]
  â†³ app/views/api/users/user_data.json.jbuilder:37
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 1], ["record_id", 2], ["record_id", 3], ["record_id", 4], ["record_id", 5], ["record_id", 6], ["record_id", 7], ["record_id", 8], ["record_id", 9], ["record_id", 10], ["record_id", 11], ["record_id", 12], ["record_id", 13], ["record_id", 14], ["record_id", 15], ["record_id", 16], ["record_id", 17], ["record_id", 18], ["record_id", 19], ["record_id", 20], ["record_id", 21], ["record_id", 22], ["record_id", 23], ["record_id", 24], ["record_id", 25], ["record_id", 26], ["record_id", 27]]
  â†³ app/views/api/users/user_data.json.jbuilder:37
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  [1m[36mCACHE Server Load (0.0ms)[0m  [1m[34mSELECT "servers".* FROM "servers" INNER JOIN "server_memberships" ON "servers"."id" = "server_memberships"."server_id" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  [1m[36mCACHE Channel Load (0.0ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  [1m[36mCACHE AudioChannel Load (0.0ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12)[0m  [["record_type", "Server"], ["name", "icon"], ["record_id", 1], ["record_id", 2], ["record_id", 3], ["record_id", 4], ["record_id", 5], ["record_id", 6], ["record_id", 7], ["record_id", 8], ["record_id", 9], ["record_id", 10]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  Rendered api/servers/_server.json.jbuilder (0.3ms)
  Rendered api/servers/_server.json.jbuilder (0.2ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.2ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.0ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.0ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.0ms)
  Rendered api/users/user_data.json.jbuilder (39.2ms)
Completed 200 OK in 109ms (Views: 36.9ms | ActiveRecord: 20.5ms)


Started GET "/undefined" for 127.0.0.1 at 2021-03-31 20:14:44 -0500
  
ActionController::RoutingError (No route matches [GET] "/undefined"):
  
actionpack (5.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.6) lib/rack/method_override.rb:22:in `call'
rack (2.0.6) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.6) lib/rack/sendfile.rb:111:in `call'
railties (5.2.2) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
ChatChannel is streaming from chat:2
  [1m[36mChannel Load (0.5ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 2], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:2: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 2]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:2)
ChatChannel#speak({"message"=>{"channel_id"=>"2", "body"=>"beep", "author_id"=>2}})
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/chat_channel.rb:13
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("body", "author_id", "channel_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["body", "beep"], ["author_id", 2], ["channel_id", 2], ["created_at", "2021-04-01 01:14:56.814310"], ["updated_at", "2021-04-01 01:14:56.814310"]]
  â†³ app/channels/chat_channel.rb:13
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/chat_channel.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/message.rb:25
  [1m[36mDmChannelMembership Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "dm_channel_memberships" WHERE "dm_channel_memberships"."user_id" = $1 AND "dm_channel_memberships"."channel_id" = $2 LIMIT $3[0m  [["user_id", 97], ["channel_id", 2], ["LIMIT", 1]]
  â†³ app/models/message.rb:25
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/message.rb:25
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  â†³ app/models/message.rb:25
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/message.rb:25
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  â†³ app/models/message.rb:26
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\",\"channelId\":\"2\"}", "data"=>"{\"message\":{\"channel_id\":\"2\",\"body\":\"beep\",\"author_id\":2},\"action\":\"speak\"}"}) [ActiveRecord::RecordNotFound - Couldn't find User with 'id'=97]: /home/helix/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/core.rb:177:in `find' | /mnt/1ext/Code/RiftWorkspace/Rift/Backend/Old/Rails/discors/app/models/message.rb:26:in `send_notification' | /home/helix/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:426:in `block in make_lambda' | /home/helix/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:261:in `block in conditional' | /home/helix/.rvm/gems/ruby-2.5.1/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:517:in `block in invoke_after'
Unsubscribing from channel: {"channel":"ChatChannel","channelId":"2"}
ChatChannel stopped streaming from chat:2
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:15:13 -0500
Processing by Api::AudioChannelsController#index as JSON
Started GET "/api/channels?channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:15:13 -0500
  [1m[36mChannel Load (0.5ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  Parameters: {"audio_channel"=>{"server_id"=>"1"}}
ChatChannel is streaming from chat:38
  â†³ app/channels/chat_channel.rb:38
  [1m[36mServer Load (1.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/audio_channels_controller.rb:13
  Rendering api/audio_channels/index.json.jbuilder
  [1m[36mMessage Load (4.0ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 38], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:38: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mAudioChannel Load (0.8ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 1]]
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 38]]
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.3ms)
  Rendered api/audio_channels/index.json.jbuilder (5.2ms)
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 15ms (Views: 7.7ms | ActiveRecord: 2.1ms)


Processing by Api::ChannelsController#index as JSON
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:38)
  Parameters: {"channel"=>{"server_id"=>"1"}}
  [1m[36mServer Load (0.4ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  Rendering api/channels/index.json.jbuilder
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 1]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (4.0ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 2.4ms)


Started GET "/api/servers/1/members" for 127.0.0.1 at 2021-03-31 20:15:14 -0500
Processing by Api::ServersController#members as JSON
  Parameters: {"id"=>"1"}
  [1m[36mServer Load (0.1ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/servers_controller.rb:55
  Rendering api/users/index.json.jbuilder
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 1 OR channels.server_id = 1)[0m
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 16], ["record_id", 11], ["record_id", 22], ["record_id", 23], ["record_id", 5], ["record_id", 9], ["record_id", 13], ["record_id", 12], ["record_id", 26], ["record_id", 18], ["record_id", 17], ["record_id", 7], ["record_id", 19], ["record_id", 24], ["record_id", 1], ["record_id", 6], ["record_id", 20], ["record_id", 15], ["record_id", 4], ["record_id", 10], ["record_id", 3], ["record_id", 8], ["record_id", 14], ["record_id", 25], ["record_id", 21], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/index.json.jbuilder (39.1ms)
Completed 200 OK in 42ms (Views: 36.2ms | ActiveRecord: 4.4ms)


ChatChannel#speak({"message"=>{"channel_id"=>"38", "body"=>"morning", "author_id"=>2}})
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/chat_channel.rb:13
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("body", "author_id", "channel_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["body", "morning"], ["author_id", 2], ["channel_id", 38], ["created_at", "2021-04-01 01:15:32.221055"], ["updated_at", "2021-04-01 01:15:32.221055"]]
  â†³ app/channels/chat_channel.rb:13
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/chat_channel.rb:13
[ActionCable] Broadcasting to chat:38: {:message=>#<Message id: 2, body: "morning", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:32", updated_at: "2021-04-01 01:15:32">, :type=>"message"}
ChatChannel transmitting {"message"=>{"id"=>2, "body"=>"morning", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:32.221Z", "updated_at"=>"2021-04-01T01:15:32.221Z"}, "type"=>"message"} (via streamed from chat:38)
ChatChannel#speak({"message"=>{"channel_id"=>"38", "body"=>"cool", "author_id"=>2}})
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/chat_channel.rb:13
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("body", "author_id", "channel_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["body", "cool"], ["author_id", 2], ["channel_id", 38], ["created_at", "2021-04-01 01:15:35.557618"], ["updated_at", "2021-04-01 01:15:35.557618"]]
  â†³ app/channels/chat_channel.rb:13
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/chat_channel.rb:13
[ActionCable] Broadcasting to chat:38: {:message=>#<Message id: 3, body: "cool", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:35", updated_at: "2021-04-01 01:15:35">, :type=>"message"}
ChatChannel transmitting {"message"=>{"id"=>3, "body"=>"cool", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:35.557Z", "updated_at"=>"2021-04-01T01:15:35.557Z"}, "type"=>"message"} (via streamed from chat:38)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-03-31 20:15:35 -0500
NotificationsChannel stopped streaming from notifications:Z2lkOi8vZGlzY29ycy9Vc2VyLzI
ChatChannel stopped streaming from chat:38
Started GET "/" for 127.0.0.1 at 2021-03-31 20:15:35 -0500
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."session_token" = $1 LIMIT $2[0m  [["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9
  [1m[36mServerMembership Load (0.1ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/api/users/_user.json.jbuilder:1
  [1m[36mSession Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sessions" WHERE "sessions"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  â†³ app/views/api/users/_user.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/views/api/users/_user.json.jbuilder:3
  Rendered api/users/_user.json.jbuilder (3.0ms)
  Rendered static_pages/root.html.erb within layouts/application (4.9ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.6ms)


Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:15:36 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:15:36 -0500
Processing by Api::AudioChannelsController#index as JSON
Processing by Api::ChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"1"}}
  Parameters: {"channel"=>{"server_id"=>"1"}}
  [1m[36mServer Load (0.2ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/audio_channels_controller.rb:13
  Rendering api/channels/index.json.jbuilder
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 1]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  Rendering api/audio_channels/index.json.jbuilder
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (4.2ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)


  [1m[36mAudioChannel Load (0.7ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 1]]
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/index.json.jbuilder (4.8ms)
Completed 200 OK in 11ms (Views: 4.7ms | ActiveRecord: 3.4ms)


Started GET "/cable" for 127.0.0.1 at 2021-03-31 20:15:36 -0500
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-03-31 20:15:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Started GET "/api/servers/1/members" for 127.0.0.1 at 2021-03-31 20:15:36 -0500
Processing by Api::ServersController#members as JSON
  Parameters: {"id"=>"1"}
Started GET "/api/users/data" for 127.0.0.1 at 2021-03-31 20:15:36 -0500
  [1m[36mServer Load (0.6ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/servers_controller.rb:55
  Rendering api/users/index.json.jbuilder
Processing by Api::UsersController#data as JSON
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."session_token" = $1 LIMIT $2[0m  [["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 1 OR channels.server_id = 1)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/api/users/index.json.jbuilder:2
  â†³ app/controllers/application_controller.rb:9
  [1m[36mSession Load (1.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServer Load (2.1ms)[0m  [1m[34mSELECT "servers".* FROM "servers" INNER JOIN "server_memberships" ON "servers"."id" = "server_memberships"."server_id" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/controllers/api/users_controller.rb:32
  [1m[36mServerMembership Load (1.4ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/views/api/users/index.json.jbuilder:2
  â†³ app/controllers/api/users_controller.rb:32
ChatChannel is streaming from chat:38
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 16], ["record_id", 11], ["record_id", 22], ["record_id", 23], ["record_id", 5], ["record_id", 9], ["record_id", 13], ["record_id", 12], ["record_id", 26], ["record_id", 18], ["record_id", 17], ["record_id", 7], ["record_id", 19], ["record_id", 24], ["record_id", 1], ["record_id", 6], ["record_id", 20], ["record_id", 15], ["record_id", 4], ["record_id", 10], ["record_id", 3], ["record_id", 8], ["record_id", 14], ["record_id", 25], ["record_id", 21], ["record_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mAudioChannel Load (0.4ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/channels/notifications_channel.rb:3
  â†³ app/views/api/users/index.json.jbuilder:2
  â†³ app/channels/chat_channel.rb:38
  â†³ app/controllers/api/users_controller.rb:32
NotificationsChannel is transmitting the subscription confirmation
  Rendered api/users/_user.json.jbuilder (0.4ms)
NotificationsChannel is streaming from notifications:Z2lkOi8vZGlzY29ycy9Vc2VyLzI
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 38], ["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "friendships"."friend_id" FROM "friendships" WHERE "friendships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/channels/chat_channel.rb:43
  Rendered api/users/_user.json.jbuilder (0.2ms)
  â†³ app/controllers/api/users_controller.rb:35
[ActionCable] Broadcasting to chat:38: {:messages=>#<ActiveRecord::AssociationRelation [#<Message id: 2, body: "morning", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:32", updated_at: "2021-04-01 01:15:32">, #<Message id: 3, body: "cool", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:35", updated_at: "2021-04-01 01:15:35">]>, :type=>"messages"}
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendering api/users/user_data.json.jbuilder
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 38]]
  Rendered api/users/_user.json.jbuilder (0.1ms)
  â†³ app/channels/chat_channel.rb:43
  [1m[36mFriendRequest Load (0.4ms)[0m  [1m[34mSELECT "friend_requests".* FROM "friend_requests" WHERE ("friend_requests"."friend_id" = $1 OR "friend_requests"."user_id" = $2)[0m  [["friend_id", 2], ["user_id", 2]]
  Rendered api/users/_user.json.jbuilder (0.1ms)
ChatChannel transmitting {"messages"=>[{"id"=>2, "body"=>"morning", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:32.221Z", "updated_at"=>"2021-04-01T01:15:32.221Z"}, {"id"=>3, "body"=>"cool", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:35.557Z", "updated_at"=>"2021-04-01T01:15:3... (via streamed from chat:38)
ChatChannel is transmitting the subscription confirmation
  Rendered api/users/_user.json.jbuilder (0.3ms)
  â†³ app/views/api/users/user_data.json.jbuilder:4
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  [1m[36mChannel Load (0.5ms)[0m  [1m[34mSELECT "channels".* FROM "channels" INNER JOIN "dm_channel_memberships" ON "channels"."id" = "dm_channel_memberships"."channel_id" WHERE "dm_channel_memberships"."user_id" = $1[0m  [["user_id", 2]]
  Rendered api/users/_user.json.jbuilder (0.1ms)
  â†³ app/views/api/users/user_data.json.jbuilder:20
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.5ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/users/index.json.jbuilder (44.7ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.1ms)
Completed 200 OK in 49ms (Views: 41.0ms | ActiveRecord: 7.1ms)


  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/api/users/user_data.json.jbuilder:37
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27)[0m  [["user_id", 1], ["user_id", 2], ["user_id", 3], ["user_id", 4], ["user_id", 5], ["user_id", 6], ["user_id", 7], ["user_id", 8], ["user_id", 9], ["user_id", 10], ["user_id", 11], ["user_id", 12], ["user_id", 13], ["user_id", 14], ["user_id", 15], ["user_id", 16], ["user_id", 17], ["user_id", 18], ["user_id", 19], ["user_id", 20], ["user_id", 21], ["user_id", 22], ["user_id", 23], ["user_id", 24], ["user_id", 25], ["user_id", 26], ["user_id", 27]]
  â†³ app/views/api/users/user_data.json.jbuilder:37
  [1m[36mServerMembership Load (0.3ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27)[0m  [["user_id", 1], ["user_id", 2], ["user_id", 3], ["user_id", 4], ["user_id", 5], ["user_id", 6], ["user_id", 7], ["user_id", 8], ["user_id", 9], ["user_id", 10], ["user_id", 11], ["user_id", 12], ["user_id", 13], ["user_id", 14], ["user_id", 15], ["user_id", 16], ["user_id", 17], ["user_id", 18], ["user_id", 19], ["user_id", 20], ["user_id", 21], ["user_id", 22], ["user_id", 23], ["user_id", 24], ["user_id", 25], ["user_id", 26], ["user_id", 27]]
  â†³ app/views/api/users/user_data.json.jbuilder:37
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 1], ["record_id", 2], ["record_id", 3], ["record_id", 4], ["record_id", 5], ["record_id", 6], ["record_id", 7], ["record_id", 8], ["record_id", 9], ["record_id", 10], ["record_id", 11], ["record_id", 12], ["record_id", 13], ["record_id", 14], ["record_id", 15], ["record_id", 16], ["record_id", 17], ["record_id", 18], ["record_id", 19], ["record_id", 20], ["record_id", 21], ["record_id", 22], ["record_id", 23], ["record_id", 24], ["record_id", 25], ["record_id", 26], ["record_id", 27]]
  â†³ app/views/api/users/user_data.json.jbuilder:37
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  [1m[36mCACHE Server Load (0.0ms)[0m  [1m[34mSELECT "servers".* FROM "servers" INNER JOIN "server_memberships" ON "servers"."id" = "server_memberships"."server_id" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  [1m[36mCACHE Channel Load (0.0ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  [1m[36mCACHE AudioChannel Load (0.0ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["server_id", 1], ["server_id", 2], ["server_id", 3], ["server_id", 4], ["server_id", 5], ["server_id", 6], ["server_id", 7], ["server_id", 8], ["server_id", 9], ["server_id", 10]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12)[0m  [["record_type", "Server"], ["name", "icon"], ["record_id", 1], ["record_id", 2], ["record_id", 3], ["record_id", 4], ["record_id", 5], ["record_id", 6], ["record_id", 7], ["record_id", 8], ["record_id", 9], ["record_id", 10]]
  â†³ app/views/api/users/user_data.json.jbuilder:45
  Rendered api/servers/_server.json.jbuilder (0.3ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.0ms)
  Rendered api/servers/_server.json.jbuilder (0.0ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.0ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/servers/_server.json.jbuilder (0.1ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.2ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.0ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.0ms)
  Rendered api/friend_requests/_friend_request.json.jbuilder (0.0ms)
  Rendered api/users/user_data.json.jbuilder (50.2ms)
Completed 200 OK in 74ms (Views: 50.7ms | ActiveRecord: 5.8ms)


ChatChannel#speak({"message"=>{"channel_id"=>"38", "body"=>"so this stays", "author_id"=>2}})
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:10
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/channels/chat_channel.rb:13
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:13
  [1m[36mMessage Create (0.2ms)[0m  [1m[32mINSERT INTO "messages" ("body", "author_id", "channel_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["body", "so this stays"], ["author_id", 2], ["channel_id", 38], ["created_at", "2021-04-01 01:15:42.481270"], ["updated_at", "2021-04-01 01:15:42.481270"]]
  â†³ app/channels/chat_channel.rb:13
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/channels/chat_channel.rb:13
[ActionCable] Broadcasting to chat:38: {:message=>#<Message id: 4, body: "so this stays", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:42", updated_at: "2021-04-01 01:15:42">, :type=>"message"}
ChatChannel transmitting {"message"=>{"id"=>4, "body"=>"so this stays", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:42.481Z", "updated_at"=>"2021-04-01T01:15:42.481Z"}, "type"=>"message"} (via streamed from chat:38)
Unsubscribing from channel: {"channel":"ChatChannel","channelId":"38"}
ChatChannel is streaming from chat:28
ChatChannel stopped streaming from chat:38
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 28], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:28: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 28]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:28)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=2" for 127.0.0.1 at 2021-03-31 20:15:43 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=2" for 127.0.0.1 at 2021-03-31 20:15:43 -0500
Started GET "/api/servers/2/members" for 127.0.0.1 at 2021-03-31 20:15:43 -0500
Processing by Api::ChannelsController#index as JSON
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"channel"=>{"server_id"=>"2"}}
  Parameters: {"audio_channel"=>{"server_id"=>"2"}}
Processing by Api::ServersController#members as JSON
  [1m[36mServer Load (0.5ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  Parameters: {"id"=>"2"}
  â†³ app/controllers/api/audio_channels_controller.rb:13
  Rendering api/channels/index.json.jbuilder
  [1m[36mServer Load (0.9ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering api/audio_channels/index.json.jbuilder
  [1m[36mChannel Load (0.8ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 2]]
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/views/api/channels/index.json.jbuilder:1
  [1m[36mAudioChannel Load (0.4ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 2]]
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.0ms)
  Rendered api/audio_channels/index.json.jbuilder (3.4ms)
  Rendered api/channels/_channel.json.jbuilder (0.0ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.6ms)


  Rendering api/users/index.json.jbuilder
  Rendered api/channels/index.json.jbuilder (5.6ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 2.0ms)


  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 2 OR channels.server_id = 2)[0m
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["user_id", 13], ["user_id", 16], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 1], ["user_id", 12], ["user_id", 2], ["user_id", 15]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.3ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["user_id", 13], ["user_id", 16], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 1], ["user_id", 12], ["user_id", 2], ["user_id", 15]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 13], ["record_id", 16], ["record_id", 3], ["record_id", 8], ["record_id", 14], ["record_id", 1], ["record_id", 12], ["record_id", 2], ["record_id", 15]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/index.json.jbuilder (17.8ms)
Completed 200 OK in 25ms (Views: 12.3ms | ActiveRecord: 10.4ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"28"}
ChatChannel stopped streaming from chat:28
ChatChannel is streaming from chat:30
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 30], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:30: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 30]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:30)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=3" for 127.0.0.1 at 2021-03-31 20:15:44 -0500
Started GET "/api/servers/3/members" for 127.0.0.1 at 2021-03-31 20:15:44 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=3" for 127.0.0.1 at 2021-03-31 20:15:44 -0500
Processing by Api::AudioChannelsController#index as JSON
Processing by Api::ChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"3"}}
Processing by Api::ServersController#members as JSON
  Parameters: {"id"=>"3"}
  Parameters: {"channel"=>{"server_id"=>"3"}}
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mServer Load (0.2ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/audio_channels_controller.rb:13
  [1m[36mServer Load (0.5ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  â†³ app/controllers/api/servers_controller.rb:55
  Rendering api/audio_channels/index.json.jbuilder
  Rendering api/channels/index.json.jbuilder
  Rendering api/users/index.json.jbuilder
  [1m[36mAudioChannel Load (1.8ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 3]]
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mChannel Load (1.0ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 3]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 3 OR channels.server_id = 3)[0m
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (4.9ms)
  Rendered api/audio_channels/index.json.jbuilder (7.2ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 1.2ms)


Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 3.6ms)


  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 4], ["user_id", 1], ["user_id", 13], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 4], ["user_id", 1], ["user_id", 13], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 4], ["record_id", 1], ["record_id", 13], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/index.json.jbuilder (10.7ms)
Completed 200 OK in 17ms (Views: 12.5ms | ActiveRecord: 2.3ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"30"}
ChatChannel stopped streaming from chat:30
ChatChannel is streaming from chat:34
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 34], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:34: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 34]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:34)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=4" for 127.0.0.1 at 2021-03-31 20:15:46 -0500
Started GET "/api/servers/4/members" for 127.0.0.1 at 2021-03-31 20:15:46 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=4" for 127.0.0.1 at 2021-03-31 20:15:46 -0500
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"4"}}
Processing by Api::ChannelsController#index as JSON
  Parameters: {"channel"=>{"server_id"=>"4"}}
  [1m[36mServer Load (1.4ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Processing by Api::ServersController#members as JSON
  â†³ app/controllers/api/audio_channels_controller.rb:13
  Parameters: {"id"=>"4"}
  [1m[36mServer Load (0.9ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering api/audio_channels/index.json.jbuilder
  [1m[36mServer Load (0.8ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  â†³ app/controllers/api/servers_controller.rb:55
  [1m[36mAudioChannel Load (1.1ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 4]]
  Rendering api/users/index.json.jbuilder
  Rendering api/channels/index.json.jbuilder
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 4 OR channels.server_id = 4)[0m
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  [1m[36mChannel Load (0.7ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 4]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/audio_channels/index.json.jbuilder (4.9ms)
  â†³ app/views/api/channels/index.json.jbuilder:1
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 2.5ms)


  [1m[36mSession Load (0.6ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["user_id", 18], ["user_id", 17], ["user_id", 19], ["user_id", 1], ["user_id", 5], ["user_id", 20], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (4.0ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 1.6ms)


  [1m[36mServerMembership Load (0.4ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["user_id", 18], ["user_id", 17], ["user_id", 19], ["user_id", 1], ["user_id", 5], ["user_id", 20], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 18], ["record_id", 17], ["record_id", 19], ["record_id", 1], ["record_id", 5], ["record_id", 20], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/index.json.jbuilder (10.9ms)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 2.9ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"34"}
ChatChannel stopped streaming from chat:34
ChatChannel is streaming from chat:32
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 32], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:32: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 32]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:32)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=5" for 127.0.0.1 at 2021-03-31 20:15:46 -0500
Started GET "/api/servers/5/members" for 127.0.0.1 at 2021-03-31 20:15:46 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=5" for 127.0.0.1 at 2021-03-31 20:15:46 -0500
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"5"}}
Processing by Api::ServersController#members as JSON
  Parameters: {"id"=>"5"}
Processing by Api::ChannelsController#index as JSON
  [1m[36mServer Load (0.7ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Parameters: {"channel"=>{"server_id"=>"5"}}
  [1m[36mServer Load (0.5ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/api/audio_channels_controller.rb:13
  â†³ app/controllers/api/servers_controller.rb:55
  [1m[36mServer Load (0.4ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering api/audio_channels/index.json.jbuilder
  Rendering api/users/index.json.jbuilder
  â†³ app/controllers/api/channels_controller.rb:13
  [1m[36mAudioChannel Load (0.7ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 5]]
  Rendering api/channels/index.json.jbuilder
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 5 OR channels.server_id = 5)[0m
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  [1m[36mChannel Load (1.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 5]]
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["user_id", 18], ["user_id", 17], ["user_id", 19], ["user_id", 22], ["user_id", 1], ["user_id", 6], ["user_id", 21], ["user_id", 20], ["user_id", 2]]
  Rendered api/audio_channels/index.json.jbuilder (4.7ms)
  â†³ app/views/api/channels/index.json.jbuilder:1
  â†³ app/views/api/users/index.json.jbuilder:2
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 1.5ms)


  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (4.1ms)
  [1m[36mServerMembership Load (0.3ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9)[0m  [["user_id", 18], ["user_id", 17], ["user_id", 19], ["user_id", 22], ["user_id", 1], ["user_id", 6], ["user_id", 21], ["user_id", 20], ["user_id", 2]]
Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 1.5ms)


  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 18], ["record_id", 17], ["record_id", 19], ["record_id", 22], ["record_id", 1], ["record_id", 6], ["record_id", 21], ["record_id", 20], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/index.json.jbuilder (13.4ms)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 2.6ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"32"}
ChatChannel stopped streaming from chat:32
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
ChatChannel is streaming from chat:35
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 35], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:35: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 35]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:35)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=6" for 127.0.0.1 at 2021-03-31 20:15:47 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=6" for 127.0.0.1 at 2021-03-31 20:15:47 -0500
Started GET "/api/servers/6/members" for 127.0.0.1 at 2021-03-31 20:15:47 -0500
Processing by Api::AudioChannelsController#index as JSON
Processing by Api::ServersController#members as JSON
Processing by Api::ChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"6"}}
  Parameters: {"channel"=>{"server_id"=>"6"}}
  Parameters: {"id"=>"6"}
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mServer Load (0.2ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  â†³ app/controllers/api/audio_channels_controller.rb:13
  â†³ app/controllers/api/servers_controller.rb:55
  Rendering api/channels/index.json.jbuilder
  Rendering api/audio_channels/index.json.jbuilder
  Rendering api/users/index.json.jbuilder
  [1m[36mChannel Load (1.4ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 6]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  [1m[36mAudioChannel Load (1.3ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 6]]
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 6 OR channels.server_id = 6)[0m
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (4.7ms)
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/audio_channels/index.json.jbuilder (3.9ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.7ms)


Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.6ms)


  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 23], ["user_id", 1], ["user_id", 2], ["user_id", 7]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 23], ["user_id", 1], ["user_id", 2], ["user_id", 7]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 23], ["record_id", 1], ["record_id", 2], ["record_id", 7]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/index.json.jbuilder (10.0ms)
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 2.3ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"35"}
ChatChannel stopped streaming from chat:35
ChatChannel is streaming from chat:33
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 33], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:33: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 33]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:33)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=7" for 127.0.0.1 at 2021-03-31 20:15:48 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=7" for 127.0.0.1 at 2021-03-31 20:15:48 -0500
Started GET "/api/servers/7/members" for 127.0.0.1 at 2021-03-31 20:15:48 -0500
Processing by Api::AudioChannelsController#index as JSON
Processing by Api::ChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"7"}}
  Parameters: {"channel"=>{"server_id"=>"7"}}
Processing by Api::ServersController#members as JSON
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mServer Load (0.2ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/api/audio_channels_controller.rb:13
  â†³ app/controllers/api/channels_controller.rb:13
  Parameters: {"id"=>"7"}
  Rendering api/audio_channels/index.json.jbuilder
  Rendering api/channels/index.json.jbuilder
  [1m[36mServer Load (1.0ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mAudioChannel Load (0.8ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 7]]
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 7]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/index.json.jbuilder (4.2ms)
  Rendering api/users/index.json.jbuilder
  Rendered api/channels/index.json.jbuilder (3.2ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 1.1ms)


Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.5ms)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 7 OR channels.server_id = 7)[0m
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 1], ["user_id", 26], ["user_id", 8], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 1], ["user_id", 26], ["user_id", 8], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 1], ["record_id", 26], ["record_id", 8], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/index.json.jbuilder (8.8ms)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 2.5ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"33"}
ChatChannel stopped streaming from chat:33
ChatChannel is streaming from chat:31
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 31], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:31: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 31]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:31)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=8" for 127.0.0.1 at 2021-03-31 20:15:49 -0500
Started GET "/api/servers/8/members" for 127.0.0.1 at 2021-03-31 20:15:49 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=8" for 127.0.0.1 at 2021-03-31 20:15:49 -0500
Processing by Api::AudioChannelsController#index as JSON
Processing by Api::ServersController#members as JSON
Processing by Api::ChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"8"}}
  Parameters: {"id"=>"8"}
  Parameters: {"channel"=>{"server_id"=>"8"}}
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mServer Load (0.4ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/controllers/api/audio_channels_controller.rb:13
  â†³ app/controllers/api/channels_controller.rb:13
  Rendering api/users/index.json.jbuilder
  Rendering api/audio_channels/index.json.jbuilder
  Rendering api/channels/index.json.jbuilder
  [1m[36mAudioChannel Load (0.6ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 8]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 8 OR channels.server_id = 8)[0m
  â†³ app/views/api/users/index.json.jbuilder:2
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 8]]
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3)[0m  [["user_id", 1], ["user_id", 2], ["user_id", 9]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  â†³ app/views/api/channels/index.json.jbuilder:1
  Rendered api/audio_channels/index.json.jbuilder (4.1ms)
  [1m[36mServerMembership Load (0.6ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3)[0m  [["user_id", 1], ["user_id", 2], ["user_id", 9]]
  Rendered api/channels/_channel.json.jbuilder (0.3ms)
  â†³ app/views/api/users/index.json.jbuilder:2
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.9ms)


  Rendered api/channels/index.json.jbuilder (4.1ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.5ms)


  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 1], ["record_id", 2], ["record_id", 9]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/index.json.jbuilder (10.2ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 3.2ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"31"}
ChatChannel stopped streaming from chat:31
ChatChannel is streaming from chat:36
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 36], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:36: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 36]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:36)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=9" for 127.0.0.1 at 2021-03-31 20:15:51 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=9" for 127.0.0.1 at 2021-03-31 20:15:51 -0500
Started GET "/api/servers/9/members" for 127.0.0.1 at 2021-03-31 20:15:51 -0500
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"9"}}
Processing by Api::ChannelsController#index as JSON
  Parameters: {"channel"=>{"server_id"=>"9"}}
  [1m[36mServer Load (0.2ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
Processing by Api::ServersController#members as JSON
  â†³ app/controllers/api/audio_channels_controller.rb:13
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Parameters: {"id"=>"9"}
  â†³ app/controllers/api/channels_controller.rb:13
  Rendering api/audio_channels/index.json.jbuilder
  [1m[36mServer Load (0.8ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering api/channels/index.json.jbuilder
  [1m[36mAudioChannel Load (0.7ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 9]]
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mChannel Load (0.7ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 9]]
  Rendering api/users/index.json.jbuilder
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  â†³ app/views/api/channels/index.json.jbuilder:1
  Rendered api/audio_channels/index.json.jbuilder (4.6ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.9ms)


  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 9 OR channels.server_id = 9)[0m
  Rendered api/channels/index.json.jbuilder (4.6ms)
  â†³ app/views/api/users/index.json.jbuilder:2
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.0ms)


  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 24], ["user_id", 1], ["user_id", 10], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.2ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 24], ["user_id", 1], ["user_id", 10], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 24], ["record_id", 1], ["record_id", 10], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/index.json.jbuilder (8.6ms)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 2.6ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"36"}
ChatChannel is streaming from chat:37
ChatChannel stopped streaming from chat:36
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 37], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:37: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 37]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:37)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=10" for 127.0.0.1 at 2021-03-31 20:15:51 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=10" for 127.0.0.1 at 2021-03-31 20:15:51 -0500
Started GET "/api/servers/10/members" for 127.0.0.1 at 2021-03-31 20:15:51 -0500
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"10"}}
Processing by Api::ChannelsController#index as JSON
Processing by Api::ServersController#members as JSON
  Parameters: {"channel"=>{"server_id"=>"10"}}
  Parameters: {"id"=>"10"}
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mServer Load (0.8ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/controllers/api/channels_controller.rb:13
  â†³ app/controllers/api/audio_channels_controller.rb:13
  Rendering api/users/index.json.jbuilder
  Rendering api/channels/index.json.jbuilder
  Rendering api/audio_channels/index.json.jbuilder
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 10 OR channels.server_id = 10)[0m
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mChannel Load (1.0ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 10]]
  [1m[36mAudioChannel Load (0.4ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 10]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5)[0m  [["user_id", 26], ["user_id", 11], ["user_id", 1], ["user_id", 25], ["user_id", 2]]
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  [1m[36mServerMembership Load (0.5ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5)[0m  [["user_id", 26], ["user_id", 11], ["user_id", 1], ["user_id", 25], ["user_id", 2]]
  Rendered api/channels/index.json.jbuilder (5.4ms)
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/audio_channels/index.json.jbuilder (4.6ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 1.3ms)


Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 1.2ms)


  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 26], ["record_id", 11], ["record_id", 1], ["record_id", 25], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/index.json.jbuilder (14.5ms)
Completed 200 OK in 19ms (Views: 13.4ms | ActiveRecord: 4.1ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"37"}
ChatChannel is streaming from chat:30
ChatChannel stopped streaming from chat:37
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 30], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:30: {:messages=>#<ActiveRecord::AssociationRelation []>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 30]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[], "type"=>"messages"} (via streamed from chat:30)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=3" for 127.0.0.1 at 2021-03-31 20:15:59 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=3" for 127.0.0.1 at 2021-03-31 20:15:59 -0500
Started GET "/api/servers/3/members" for 127.0.0.1 at 2021-03-31 20:15:59 -0500
Processing by Api::AudioChannelsController#index as JSON
Processing by Api::ServersController#members as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"3"}}
  Parameters: {"id"=>"3"}
Processing by Api::ChannelsController#index as JSON
  [1m[36mServer Load (0.8ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mServer Load (0.2ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/controllers/api/audio_channels_controller.rb:13
  Parameters: {"channel"=>{"server_id"=>"3"}}
  Rendering api/users/index.json.jbuilder
  Rendering api/audio_channels/index.json.jbuilder
  [1m[36mServer Load (1.4ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 3 OR channels.server_id = 3)[0m
  â†³ app/controllers/api/channels_controller.rb:13
  [1m[36mAudioChannel Load (0.5ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 3]]
  â†³ app/views/api/users/index.json.jbuilder:2
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  Rendering api/channels/index.json.jbuilder
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 4], ["user_id", 1], ["user_id", 13], ["user_id", 2]]
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  [1m[36mChannel Load (7.7ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 3]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  Rendered api/audio_channels/index.json.jbuilder (12.4ms)
  â†³ app/views/api/users/index.json.jbuilder:2
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 1.3ms)


  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/channels/index.json.jbuilder (10.3ms)
  [1m[36mServerMembership Load (0.6ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4)[0m  [["user_id", 4], ["user_id", 1], ["user_id", 13], ["user_id", 2]]
Completed 200 OK in 17ms (Views: 5.5ms | ActiveRecord: 9.1ms)


  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 4], ["record_id", 1], ["record_id", 13], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.5ms)
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/index.json.jbuilder (20.8ms)
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 2.5ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"30"}
ChatChannel stopped streaming from chat:30
ChatChannel is streaming from chat:38
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 38], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:38: {:messages=>#<ActiveRecord::AssociationRelation [#<Message id: 2, body: "morning", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:32", updated_at: "2021-04-01 01:15:32">, #<Message id: 3, body: "cool", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:35", updated_at: "2021-04-01 01:15:35">, #<Message id: 4, body: "so this stays", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:42", updated_at: "2021-04-01 01:15:42">]>, :type=>"messages"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 38]]
  â†³ app/channels/chat_channel.rb:43
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[{"id"=>2, "body"=>"morning", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:32.221Z", "updated_at"=>"2021-04-01T01:15:32.221Z"}, {"id"=>3, "body"=>"cool", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:35.557Z", "updated_at"=>"2021-04-01T01:15:3... (via streamed from chat:38)
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:16:00 -0500
Started GET "/api/channels?channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:16:00 -0500
Started GET "/api/servers/1/members" for 127.0.0.1 at 2021-03-31 20:16:00 -0500
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"1"}}
Processing by Api::ChannelsController#index as JSON
Processing by Api::ServersController#members as JSON
  Parameters: {"channel"=>{"server_id"=>"1"}}
  Parameters: {"id"=>"1"}
  [1m[36mServer Load (1.1ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mServer Load (0.3ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mServer Load (0.4ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/api/channels_controller.rb:13
  â†³ app/controllers/api/audio_channels_controller.rb:13
  â†³ app/controllers/api/servers_controller.rb:55
  Rendering api/channels/index.json.jbuilder
  Rendering api/audio_channels/index.json.jbuilder
  Rendering api/users/index.json.jbuilder
  [1m[36mChannel Load (2.6ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 1]]
  [1m[36mAudioChannel Load (0.9ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 1]]
  â†³ app/views/api/channels/index.json.jbuilder:1
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 1 OR channels.server_id = 1)[0m
  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/channels/index.json.jbuilder (5.5ms)
  Rendered api/audio_channels/index.json.jbuilder (3.8ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 2.9ms)


  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 2.0ms)


  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mServerMembership Load (0.4ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 16], ["record_id", 11], ["record_id", 22], ["record_id", 23], ["record_id", 5], ["record_id", 9], ["record_id", 13], ["record_id", 12], ["record_id", 26], ["record_id", 18], ["record_id", 17], ["record_id", 7], ["record_id", 19], ["record_id", 24], ["record_id", 1], ["record_id", 6], ["record_id", 20], ["record_id", 15], ["record_id", 4], ["record_id", 10], ["record_id", 3], ["record_id", 8], ["record_id", 14], ["record_id", 25], ["record_id", 21], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/index.json.jbuilder (26.2ms)
Completed 200 OK in 33ms (Views: 27.1ms | ActiveRecord: 2.6ms)


Unsubscribing from channel: {"channel":"ChatChannel","channelId":"38"}
ChatChannel stopped streaming from chat:38
Started GET "/undefined" for 127.0.0.1 at 2021-03-31 20:16:00 -0500
  
ActionController::RoutingError (No route matches [GET] "/undefined"):
  
actionpack (5.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.6) lib/rack/method_override.rb:22:in `call'
rack (2.0.6) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.6) lib/rack/sendfile.rb:111:in `call'
railties (5.2.2) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
ChatChannel is streaming from chat:38
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT  "channels".* FROM "channels" WHERE "channels"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:38
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC LIMIT $2[0m  [["channel_id", 38], ["LIMIT", 11]]
  â†³ app/channels/chat_channel.rb:43
[ActionCable] Broadcasting to chat:38: {:messages=>#<ActiveRecord::AssociationRelation [#<Message id: 2, body: "morning", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:32", updated_at: "2021-04-01 01:15:32">, #<Message id: 3, body: "cool", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:35", updated_at: "2021-04-01 01:15:35">, #<Message id: 4, body: "so this stays", author_id: 2, channel_id: 38, created_at: "2021-04-01 01:15:42", updated_at: "2021-04-01 01:15:42">]>, :type=>"messages"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."channel_id" = $1 ORDER BY "messages"."created_at" ASC[0m  [["channel_id", 38]]
Started GET "/api/audio_channels?audio_channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:16:02 -0500
  â†³ app/channels/chat_channel.rb:43
Started GET "/api/channels?channel%5Bserver_id%5D=1" for 127.0.0.1 at 2021-03-31 20:16:02 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel transmitting {"messages"=>[{"id"=>2, "body"=>"morning", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:32.221Z", "updated_at"=>"2021-04-01T01:15:32.221Z"}, {"id"=>3, "body"=>"cool", "author_id"=>2, "channel_id"=>38, "created_at"=>"2021-04-01T01:15:35.557Z", "updated_at"=>"2021-04-01T01:15:3... (via streamed from chat:38)
Processing by Api::AudioChannelsController#index as JSON
  Parameters: {"audio_channel"=>{"server_id"=>"1"}}
Started GET "/api/servers/1/members" for 127.0.0.1 at 2021-03-31 20:16:02 -0500
Processing by Api::ChannelsController#index as JSON
  [1m[36mServer Load (0.9ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"channel"=>{"server_id"=>"1"}}
  â†³ app/controllers/api/audio_channels_controller.rb:13
Processing by Api::ServersController#members as JSON
  Parameters: {"id"=>"1"}
  [1m[36mServer Load (1.5ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mServer Load (0.6ms)[0m  [1m[34mSELECT  "servers".* FROM "servers" WHERE "servers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering api/audio_channels/index.json.jbuilder
  â†³ app/controllers/api/servers_controller.rb:55
  â†³ app/controllers/api/channels_controller.rb:13
  [1m[36mAudioChannel Load (0.9ms)[0m  [1m[34mSELECT "audio_channels".* FROM "audio_channels" WHERE "audio_channels"."server_id" = $1[0m  [["server_id", 1]]
  Rendering api/users/index.json.jbuilder
  Rendering api/channels/index.json.jbuilder
  â†³ app/views/api/audio_channels/index.json.jbuilder:1
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT DISTINCT users.* FROM "users" LEFT OUTER JOIN "messages" ON "messages"."author_id" = "users"."id" LEFT OUTER JOIN "channels" ON "channels"."id" = "messages"."channel_id" LEFT OUTER JOIN "server_memberships" ON "server_memberships"."user_id" = "users"."id" WHERE (server_memberships.server_id = 1 OR channels.server_id = 1)[0m
  [1m[36mChannel Load (0.5ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."server_id" = $1[0m  [["server_id", 1]]
  Rendered api/audio_channels/_audio_channel.json.jbuilder (0.2ms)
  â†³ app/views/api/users/index.json.jbuilder:2
  â†³ app/views/api/channels/index.json.jbuilder:1
  Rendered api/audio_channels/index.json.jbuilder (8.1ms)
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 1.8ms)


  Rendered api/channels/_channel.json.jbuilder (0.2ms)
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/channels/index.json.jbuilder (4.8ms)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 2.1ms)


  [1m[36mServerMembership Load (0.8ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)[0m  [["user_id", 16], ["user_id", 11], ["user_id", 22], ["user_id", 23], ["user_id", 5], ["user_id", 9], ["user_id", 13], ["user_id", 12], ["user_id", 26], ["user_id", 18], ["user_id", 17], ["user_id", 7], ["user_id", 19], ["user_id", 24], ["user_id", 1], ["user_id", 6], ["user_id", 20], ["user_id", 15], ["user_id", 4], ["user_id", 10], ["user_id", 3], ["user_id", 8], ["user_id", 14], ["user_id", 25], ["user_id", 21], ["user_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_type" = $1 AND "active_storage_attachments"."name" = $2 AND "active_storage_attachments"."record_id" IN ($3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28)[0m  [["record_type", "User"], ["name", "avatar"], ["record_id", 16], ["record_id", 11], ["record_id", 22], ["record_id", 23], ["record_id", 5], ["record_id", 9], ["record_id", 13], ["record_id", 12], ["record_id", 26], ["record_id", 18], ["record_id", 17], ["record_id", 7], ["record_id", 19], ["record_id", 24], ["record_id", 1], ["record_id", 6], ["record_id", 20], ["record_id", 15], ["record_id", 4], ["record_id", 10], ["record_id", 3], ["record_id", 8], ["record_id", 14], ["record_id", 25], ["record_id", 21], ["record_id", 2]]
  â†³ app/views/api/users/index.json.jbuilder:2
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/_user.json.jbuilder (0.1ms)
  Rendered api/users/index.json.jbuilder (27.8ms)
Completed 200 OK in 34ms (Views: 28.1ms | ActiveRecord: 3.4ms)


Started DELETE "/api/session" for 127.0.0.1 at 2021-03-31 20:16:33 -0500
Processing by Api::SessionsController#destroy as JSON
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."session_token" = $1 LIMIT $2[0m  [["session_token", "Q7inJ6ZRgC9EQonDu-7EGQ"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT  "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."user_agent" = $2 LIMIT $3[0m  [["user_id", 2], ["user_agent", "Mozilla/5.0 (X11; Linux x86_64; rv:87.0) Gecko/20100101 Firefox/87.0"], ["LIMIT", 1]]
  â†³ app/models/user.rb:112
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:113
  [1m[36mSession Destroy (0.2ms)[0m  [1m[31mDELETE FROM "sessions" WHERE "sessions"."id" = $1[0m  [["id", 1]]
  â†³ app/models/user.rb:113
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:113
  Rendering api/users/show.json.jbuilder
  [1m[36mServerMembership Load (0.1ms)[0m  [1m[34mSELECT "server_memberships".* FROM "server_memberships" WHERE "server_memberships"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/api/users/_user.json.jbuilder:1
  [1m[36mSession Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sessions" WHERE "sessions"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  â†³ app/views/api/users/_user.json.jbuilder:2
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  â†³ app/views/api/users/_user.json.jbuilder:3
  Rendered api/users/_user.json.jbuilder (2.7ms)
  Rendered api/users/show.json.jbuilder (3.3ms)
Completed 200 OK in 21ms (Views: 4.1ms | ActiveRecord: 13.8ms)


Unsubscribing from channel: {"channel":"NotificationsChannel","userId":2}
NotificationsChannel stopped streaming from notifications:Z2lkOi8vZGlzY29ycy9Vc2VyLzI
Unsubscribing from channel: {"channel":"ChatChannel","channelId":"38"}
ChatChannel stopped streaming from chat:38
